{% extends "base.html.twig" %}

{% block title %}AppBundle:User:index{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link href="{{ asset( 'assets/plugins/datatable/css/datatables.min.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/plugins/datatable/css/dataTables.bootstrap4.min.css') }}">
{% endblock %}

{% block body %}
    <a href="" class="btn btn-outline-success">Ajouter</a>
<table class="table table-striped table-bordered" style="width:100%">
    <thead>
        <th>#</th>
        <th>Username</th>
        <th>Email</th>
        <th>Roles</th>
        <th>...</th>
    </thead>
    <tbody>
    {% for user in users %}
        <tr>
            <td>{{ user.id }}</td>
            <td>{{ user.username }}</td>
            <td>{{ user.email }}</td>
            <td>{% for role in user.roles %}
                    <ul>
                        <li>{{ role }}</li>
                    </ul>
                {% endfor %}
            </td>
            <td>
                <a href="{{ url('users_update',{id: user.id}) }}" class="btn btn-outline-warning">Modifier</a>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}

 {% block javascripts %}
     {{ parent() }}
     <script src="{{ asset( 'assets/plugins/datatable/js/datatables.min.js') }}"></script>
     <script src="{{ asset('assets/plugins/datatable/js/dataTables.bootstrap4.min.js') }}"></script>

     <script>
         $(document).ready(function () {
             $('#tab-users').DataTable();
         });
     </script>
 {% endblock %}